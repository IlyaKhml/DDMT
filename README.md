
# Darkest Dungeon Mod Translator

---
<p align='center'>
    <b>RU</b> • <a href='docs\en\README.md'>EN</a> • <a href='docs\zh\README.md'>ZH</a>
</p>
<p align='center'>
    <b>Основное</b> • 
    <a href='docs\ru\settings.md'>Документация</a> • <a href='docs\ru\how_it_works.md'>Как это работает?</a> • <a href='docs\ru\qa.md'>Вопросы</a>
</p>


# Основные функции
* Полный перевод текста из `.xml` файлов модификаций (включая комментарии).
* Автоматическое создание `.loc2` файлов и добавление в мод.
* Выбор различных переводчиков (GoogleTranslate, DeepL, и API LLM-моделей).
* Возможность переводить модификации с текстом на нескольких языках.
* Замена `.loc2` файлов для конкретного языка.


# Установка 
Для скачивания репозитория и работы скрипта вам необходимы:
* **Python** (скачать с [официального сайта](https://www.python.org/downloads/));
* **git** (скачать с [официального сайта](https://git-scm.com/downloads)).

1. Перейдите в папку, в которую нужно установить `DDMT`.
2. Клонируйте репозиторий:
``` bash
git clone https://github.com/IlyaKhml/DDMT.git
```
3. Создайте и активируйте виртуальную среду:
``` bash
python -m venv venv

source venv/bin/activate # На Linux
venv\Scripts\activate # На Windows
```
4. Установите зависимости:
``` bash
pip install -r requirements.txt
```

По желанию, для более удобного просмотра `.xml` файлов можно установить [notepad++](https://notepad-plus-plus.org/downloads/) (подсветит синтаксис).

# Использование
Это примерный план действий, которые нужно совершить, для перевода одного мода.

1. Найти **папку мода**, который вы хотите перевести.
   > **Например:** `G:\SteamLibrary\steamapps\workshop\content\262060\2200558948`

2. Скопировать мод в `mods` (папка локальных модов) в папке с Darkest Dungeon.
    > **Пример пути до папки с локальными модами:** `G:\SteamLibrary\steamapps\common\DarkestDungeon\mods`
    > 
    > **Папку с игрой можно найти следующим образом:** щёлкнув по иконке игры в Steam правой кнопкой мыши > Управление > Посмотреть локальные файлы 

3. Проверить количество `.xml` файлов в папке `localization`. Желательно оставить только один `.xml` для перевода. При необходимости можно объединить переводы из разных `.xml`.
   
4. Выбрать язык, с которого вы будете переводить и проверить, что все строки в соответствующем теге языка в `.xml` файле соответствуют языку (для выбора настроек перевода и детекции языка).

5. Скопировать путь до папки с модом, который вы только что скопировали.
   > **Например:** `G:\SteamLibrary\steamapps\common\DarkestDungeon\mods\2200558948`

6. Вставить в настройках путь до мода (указать значение ключа `mod_folder_path`)
7. Настроить остальные параметры по желанию.
8. Запустите файл скрипт с помощью Python:
``` bash
python main.py
```
9. Дождаться, когда появится надпись `"Перевод завершен!"`.


([Пример перевода на русский c разными настройками](docs\translate_example_en_ru.xml))